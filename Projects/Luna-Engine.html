<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="../styles.css" />
    <script src="https://kit.fontawesome.com/56eea49a0b.js" crossorigin="anonymous"></script>
    <script src="../script.js"></script>
    <title>Luna Engine</title>
</head>
<body>
    <nav>
        <a href="../index.html" class="PP_back-button">Home</a>
        <a href="https://github.com/LiamStewart2/Luna-Engine" class="PP_github-button">GitHub</a>
    </nav>

    <main class="content">
        <section class="PP_project-introduction-section">
            <h1>Luna Engine</h1>
            <div class="seperation-line"></div>
            <p><i>Building a 3D Game Engine</i></p>
        </section>

        <section class="PP_project-overview">
            <video loop autoplay muted>
                <source src="../Assets/Videos/2025-08-31 05-51-05.mp4" type="video/mp4" />
                Your browser doesn't support the video tag.
            </video>


            <div class="PP_project-description">
                <p>This is my first attempt at building a 3D game engine using OpenGL. It is currently a work in progress, but i already have a couple features implemented forming the basis of the engine. This project is something i have wanted to commit to for a long time, and finally feel in a good position to start work on it.</p>

                <div class="PP_project-section">
                    <div class="PP_project-section-title">
                        <h3><u>Entity Component System (ECS)</u></h3>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="PP_project-description-content">
                        <img src="../Assets/Photos/ECS_Simple_Layout.svg.png" alt="Git branching diagram" />
                        <p>This game engine will function on an <a href="https://en.wikipedia.org/wiki/Entity_component_system">ECS</a>, where game objects are just ID's that connect numerous components, using a database approach. This approach is far superior in terms of cache friendliness as the CPU can load the array of components as contiguous chunks of memory instead of individually grabbing each piece of data.</p>    
                        <p>These components are then used by whatever system needs them. For example, the Renderering System would need access to the Mesh Component and the Transform Component.</p>
                        <img src="../Assets/Photos/Rendering System.png">
                    </div>
                </div>

                <div class="PP_project-section">
                    <div class="PP_project-section-title">
                        <h3><u>Cascading Shadow Mapping</u></h3>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="PP_project-description-content">
                        <p>My first goal with this game engine is to implement the graphical effects common in 99% of games now-days, and the first effect that came to mind was shadows. To achieve this effect i utilised <a href="https://en.wikipedia.org/wiki/Shadow_mapping">shadow mapping</a>, a technique where the scene is rendererd from the perspective of the light.</p>
                        <p>However, unlike when rendering the scene to the camera, we are only interested in the pixels distance from the camera, which is conviniently stored for us in the Z depth buffer. This buffer is then sampled to calculate whether the pixel currently being renderering in the shader is hidden from the light source or not.</p>
                        <img width = 300px src="../Assets/Photos/withShadowMapping.png"><img width = 300px src="../Assets/Photos/WithoutShadowMapping.png">
                        <p>Pure shadow mapping with no additional effects ontop however have a very costly increase in quality to performance ratio. If you want more defined shadows when zooming in close without having an insanely high resolution shadow buffer texture then a more complex method is required - <a href="https://learnopengl.com/Guest-Articles/2021/CSM">Cascading Shadow Mapping</a></p>
                        <p>CSM allows the lighting matricies to change depending on the distance between the camera and the given pixel, focusing the shadow buffer texture to the limits of the view frustum. This allows us to create higher quality shadows without increasing the resolution of the shadow textures. This effect is displayed by the different color filters on the video.</p>
                        <img src="../Assets/Photos/frustum_fitting.png">
                    </div>
                </div>

                
                <div class="PP_project-section">
                    <div class="PP_project-section-title">
                        <h3><u>Scene Graph</u></h3>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="PP_project-description-content">
                        <p>
                            The engine uses a <a href="https://en.wikipedia.org/wiki/Scene_graph">Scene Graph</a> to define parent–child relationships between objects. 
                            This allows transformations such as position, rotation, and scale to automatically propagate from a parent to its children, making it easy to build complex objects from smaller parts (e.g. a car body with wheel entities attached).
                        </p>
                        <p>
                            The Scene Graph works alongside the ECS: entities still hold their own components, but their local transforms are resolved into world transforms through the hierarchy. 
                            This ensures efficient rendering and physics updates while keeping the engine flexible and easy to extend.
                        </p>
                        <img src="../Assets/Photos/SceneGraph ownership.png" alt="Scene graph hierarchy diagram">
                    </div>
                </div>
                
                <div class="PP_project-section">
                    <div class="PP_project-section-title">
                        <h3><u>ImGui Integration</u></h3>
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="PP_project-description-content">
                        <p>
                            The engine includes <a href="https://github.com/ocornut/imgui">Dear ImGui</a> for creating in-engine tools and debug interfaces. 
                            ImGui makes it easy to inspect data, display performance stats, and tweak values such as lighting or camera settings in real time 
                            without restarting or recompiling the engine.
                        </p>
                        <p>
                            I have also set up ImGui’s docking and viewport features, allowing windows to be rearranged and even popped out into separate windows, 
                            similar to professional editors. This provides a flexible foundation for building a scene editor and other development tools directly 
                            inside the engine.
                        </p>
                        <img src="../Assets/Photos/ImguiDocking.png" alt="ImGui docking demo screenshot">
                    </div>
                </div>

        </section>
    </main>
</body>
</html>
